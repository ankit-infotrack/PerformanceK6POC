import http from 'k6/http';
import { sleep } from 'k6';

// init
export let options = {
    vus: 5,
    duration: '60s',
};

const url = 'https://stagesearch.infotrack.com.au/infotrack-asicapi/api/bannedAndDisqualified/person/lookup';
// vu script
export default function () {
    let data = {
        clientReference: "ASIC_API_EXAMPLE",
        retailerReference: "INT_7cb6be30-44d4-4703-962d-examplebef0c",
        familyName: "Smith",
        options: {
            registers: ["BannedFuturesRepresentatives", "BannedSecuritiesRepresentatives"]
        }
    };


    let res = http.post(url, JSON.stringify(data), {
        headers: {
            'Content-Type': 'application/json',
            'Authorization': 'eyJhbGciOiJSUzI1NiIsImtpZCI6IjM4QUE2RDVFQzlBNTYyREREOEFERDZDRUM1NzQ4RDJDMzcxNjVDODRSUzI1NiIsInR5cCI6IkpXVCIsIng1dCI6Ik9LcHRYc21sWXQzWXJkYk94WFNOTERjV1hJUSJ9.eyJuYmYiOjE2NjExMzI1MDAsImV4cCI6MTY2MTczNzMwMCwiaXNzIjoiaHR0cHM6Ly9zdGFnZWF1dGguaW5mb3RyYWNrLmNvbS5hdSIsImF1ZCI6Imh0dHBzOi8vc3RhZ2VhdXRoLmluZm90cmFjay5jb20uYXUvcmVzb3VyY2VzIiwiY2xpZW50X2lkIjoiU2VhcmNoV2Vic2l0ZSIsInN1YiI6IjU0MzM3NyIsImF1dGhfdGltZSI6MTY2MTEzMjQ5OSwiaWRwIjoibG9jYWwiLCJuYW1lIjoidGVzdGF1dG8iLCJpbmY6dXNlcm5hbWUiOiJ0ZXN0YXV0byIsImluZjplbWFpbCI6Im1hcmNvLnpoYW5nQGluZm90cmFjay5jb20uYXUiLCJpbmY6bG9naW5pZCI6IjU0MzM3NyIsImluZjpjbGllbnRpZCI6IjM1NDc4MCIsImluZjpicmFuY2hpZCI6Ijg5IiwiaW5mOnJldGFpbGVyaWQiOiIzOCIsImluZjppbnRlZ2tleSI6IjRhMTNhMTM5LTQxOTgtNDAwMy05YWJkLWE4Zjk3MWYxZTE5MyIsImluZjpzdWJzeXN0ZW0iOiJXZWJzaXRlIiwiaW5mOnBhcnR5bmFtZSI6IkluZm9UcmFjayBJbnRlcm5hbCBBY2NvdW50IChOb24gQ2hhcmdlYWJsZSl0ZXN0IGFjY291bnQgKGludGVybmFsIHVzZSBvbmx5KSIsImluZjppc2ludGVncmF0ZWQiOiJGYWxzZSIsImluZjpyb2xlcyI6WyJSZXZlYWwgTGF5b3V0cyIsIkRlbW8iLCJiZnMiLCJGaWxlVHJhY2sgTVZDIiwiSURGWSBNdWx0aXBhcnRVcGxvYWQiLCJpQ29ubmVjdCIsIklERlkgUmVtb3RlIFZlcmlmaWVyIiwiVklDX0RJU0FCTEVETElTVCIsIk9zciBQRSIsIkxFQVBfSUU5IiwiU2lnbjJFeGNoYW5nZVRlbXBsYXRlU2V0dXAiLCJBU0lDQ292ZXJQYWdlIiwiT3NyRmVhdHVyZXNBbmRCdWdzIiwiT3NyU2F2ZUJ1dHRvbkFuZEFmdGVySG91cnMiLCJGaXJtTG9nbyIsIkZlZVN1bW1hcnkiLCJSZXNlbGxlckNhbkVkaXRTdXBwbGllckZlZSIsIlFMRFBFTWFwIiwiQXNpY1N0YXR1c0FsZXJ0IiwiUmV0YWlsZXJDaGVja01pbmltdW1GZWVJZ25vcmUiLCJDb25zdW1lclBvbGljZUNoZWNrIiwiZUNvbXBhbnkiLCJPZmZsaW5lVklDUEUiLCJCZXRhVHJ1c3QiLCJNYXR0ZXJDcmVhdGlvblYyIiwiTmV3VUkiLCJpTWF0dGVyQmV0YSIsIkVDb21wYW5pZXNFZGl0QWRkcmVzcyIsIlNpZ25JdE1pY3JvU2VydmljZSIsIlN1YkZvbGlvTVZDIiwiQ29tcGFueUluY29ycG9yYXRlZF9UYWJXb3JrZmxvdyIsIlZpY0NvbnRyYWN0c1dvcmtmbG93IiwiRnJlZUFzaWNFeHRyYWN0IiwiU3Rld2FydFRpdGxlQVBJIiwiVklDRUNPU0J5TGF3eWVycyIsIlVuYXNzaWduZWRBZ2VudEZsb3ciLCJTZWN1cmV4Y2hhbmdlIiwiRGlzYWJsZUluc3RydW1lbnRMb29rdXAiLCJDb3JlTG9naWNCU0d2MyIsIk5ld1FMREVucXVpcmllcyIsIk5ld1ZJQ0xJVkNvbnRyYWN0IiwiUG1zTnN3VGl0bGVNYXR0ZXJVcGRhdGUiLCJNb3ZlTWVJbiIsIk5ld0Vjb3NQbHVzIiwiRWNvc1N4TGVhZCIsIkFzaWNOZXh0R2VuUGVyc29uYWxOYW1lIiwiQXNpY05leHRHZW5TZWFyY2hMb29rdXAiLCJBc2ljTmV4dEdlbk9yZ2FuaXNhdGlvbkV4dHJhY3QiLCJBc2ljTmV4dEdlbkRvY3VtZW50SW1hZ2UiLCJBc2ljTmV4dEdlblByb2Zlc3Npb25hbCIsIkFzaWNOZXh0R2VuQmFubmVkQW5kRGlzcXVhbGlmaWVkIiwiVXNlU3VwcGxpZXJNYWlsRW1haWxRdWV1ZSIsIlNldHRsZUl0UmFkYXJBY2Nlc3MiLCJTZXR0bGVJdENhblVzZVN1cGVyQWdlbnQiLCJJTWFqb3JQb3J0YWxNZW51QWNjZXNzIiwiU2V0dGxlSXRBZ2VudEFkbWluQWNjZXNzIiwiVXNlU2FpbGlzQVBJIiwiTmV3VUlOYXRpb25hbExpdGlnYWl0b24iLCJJbnNvbHZlbmN5TlpOZXh0R2VuU2VhcmNoIiwiSW5zb2x2ZW5jeU5aTmV4dEdlbkJyb3dzZSIsIlJldGFpbGVyQXV0aEJldGEiLCJBc2ljQVBJIiwiU2hvd1ZlbmRvclF1ZXN0aW9ubmFpcmUiLCJOc3dOZXh0R2VuRG9jdW1lbnRFbnF1aXJ5IiwiTnN3TmV4dEdlbkRvY3VtZW50SW1hZ2VTdGF0dXMiLCJOc3dOZXh0R2VuRG9jdW1lbnRJbWFnZVNjYW5uZWRPbkRlbWFuZCIsIk5zd05leHRHZW5Eb2N1bWVudEltYWdlIiwiTnN3Q2FkYXN0cmFsUmVjb3Jkc0VucXVpcnkiLCJOc3dOZXh0R2VuUmVmZXJlbmNlTWFwU2VhcmNoIiwiU2VlSXRCZXRhIiwiUWxkUXZhc05HU2FsZXNSZXBvcnQiLCJRbGRRdmFzTkdQcm9wZXJ0eVJlcG9ydCIsIlFsZFByaW9yaXR5Tm90aWNlTmV4dEdlbiIsIk5zd05HRGVlZFNlYXJjaCIsIk5zd05HRGVlZE51bWJlclNlYXJjaCJdLCJpbmY6aXNpbXBlcnNvbmF0ZWQiOiJGYWxzZSIsInNpZCI6IjZGQjk0MDdERDUzNUYxQTU2MjVGOEUxNkNDQ0I3NUZEIiwiaWF0IjoxNjYxMTMyNTAwLCJzY29wZSI6WyJvcGVuaWQiLCJwcm9maWxlIiwiaW5mc2VjOmJhc2ljIiwiaW5mc2VjOmlkZW50aXR5IiwiaW5mc2VjOnJvbGVzIl0sImFtciI6WyJwd2QiXX0.fRQ1BomXhHNxGBEBtmUEgT08JjOhJ0RvqtYXkVLoo3_S-kKuarFBkBVmWlcw7q4DsvmW2v7w-jT2JoGgUE3CMsNoL93CjHW-1K_gOBnH3IwSlJd0I0CMYi933QAfEjR60LH1MepToET9aYABSIFnI5vniE1YyzbJUriYs3nFaTKJGxbi2MtmPSsb78x-ZunWhiiTwv3uik9wo-KrGYQNHXD1kVlPYbDw-TqowuJkvJljCrb4d66NQKKjaNDGHcTlJY0GmeJYY7STfTdvNL1MR8-P6KjnF5FQzzoMhmhuL_kdS9WdqlV5MQvnTRuCEJmy-eS9MEuJUBarOjJyMIICXA'
        }
    });
    console.log(res.status);
    check(res, {
        'status is 200 for ASIC Lookout API': (r) => r.status === 200,
    });

    sleep(5);
}
